@import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=IBM+Plex+Mono:wght@300;400;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --olive-fill: #97B34D;
  --olive-dark: #6E8D25;
  --ink-base: #0D1B12;
  --ink-base-body: #1C2A1A;
  --ink-invert: #FFFFFF;
  --ink-invert-body: rgba(255, 255, 255, 0.85);
  
  /* New design system tokens */
  --ink-950: hsl(160 10% 6%);     /* near-black with a hint of green */
  --ink-900: hsl(160 9% 9%);
  --ink-800: hsl(160 8% 12%);
  --ink-700: hsl(160 7% 18%);
  --ink-400: hsl(160 6% 70%);
  --ink-300: hsl(160 5% 78%);
  --paper:   hsl(60 10% 97%);

  --olive-600: hsl(78 35% 40%);   /* #97B34D neighborhood */
  --olive-500: hsl(78 35% 48%);
  --olive-400: hsl(78 28% 56%);
  --olive-300: hsl(78 20% 66%);
  --olive-200: hsl(78 18% 78%);
}

@layer base {
  html {
    font-family: 'IBM Plex Mono', monospace;
  }

  body {
    @apply antialiased bg-black;
  }
  .theme {
    --font-sans: var(--font-geist-sans);
    --font-mono: var(--font-geist-mono);
    --color-destructive-foreground: var(--destructive-foreground);
  }
  :root {
    --foreground: oklch(0 0 0);
    --card: oklch(0.94 0 0);
    --card-foreground: oklch(0 0 0);
    --popover-foreground: oklch(0 0 0);
    --primary: oklch(0 0 0);
    --primary-foreground: oklch(1 0 0);
    --secondary: oklch(0.5 0 0);
    --secondary-foreground: oklch(1 0 0);
    --muted: oklch(0.94 0 0);
    --muted-foreground: oklch(0 0 0);
    --accent: oklch(0.8 0 0);
    --accent-foreground: oklch(0 0 0);
    --destructive-foreground: oklch(1 0 0);
    --border: oklch(0.5 0 0);
    --input: oklch(1 0 0);
    --ring: oklch(0 0 0 / 0.2);
    --chart-1: oklch(0 0 0);
    --chart-2: oklch(0.5 0 0);
    --chart-3: oklch(0.94 0 0);
    --chart-4: oklch(0.8 0 0);
    --chart-5: oklch(0 0 0);
    --radius: 0.5rem;
    --sidebar: oklch(0.94 0 0);
    --sidebar-foreground: oklch(0 0 0);
    --sidebar-primary: oklch(0 0 0);
    --sidebar-primary-foreground: oklch(1 0 0);
    --sidebar-accent: oklch(0.8 0 0);
    --sidebar-accent-foreground: oklch(0 0 0);
    --sidebar-border: oklch(0.5 0 0);
    --sidebar-ring: oklch(0 0 0 / 0.2);
  }
  .dark {
    --background: oklch(0 0 0);
    --foreground: oklch(1 0 0);
    --card: oklch(0.1 0 0);
    --card-foreground: oklch(1 0 0);
    --popover: oklch(0 0 0);
    --popover-foreground: oklch(1 0 0);
    --primary: oklch(1 0 0);
    --primary-foreground: oklch(0 0 0);
    --secondary: oklch(0.3 0 0);
    --secondary-foreground: oklch(1 0 0);
    --muted: oklch(0.3 0 0);
    --muted-foreground: oklch(0.7 0 0);
    --accent: oklch(0.3 0 0);
    --accent-foreground: oklch(1 0 0);
    --destructive: oklch(0.396 0.141 25.723);
    --destructive-foreground: oklch(0.637 0.237 25.331);
    --border: oklch(0.3 0 0);
    --input: oklch(0.3 0 0);
    --ring: oklch(1 0 0 / 0.2);
    --chart-1: oklch(1 0 0);
    --chart-2: oklch(0.7 0 0);
    --chart-3: oklch(0.5 0 0);
    --chart-4: oklch(0.3 0 0);
    --chart-5: oklch(1 0 0);
    --sidebar: oklch(0.1 0 0);
    --sidebar-foreground: oklch(1 0 0);
    --sidebar-primary: oklch(1 0 0);
    --sidebar-primary-foreground: oklch(0 0 0);
    --sidebar-accent: oklch(0.3 0 0);
    --sidebar-accent-foreground: oklch(1 0 0);
    --sidebar-border: oklch(0.3 0 0);
    --sidebar-ring: oklch(1 0 0 / 0.2);
  }
}

/* Reduced motion support for diagram animations */
@media (prefers-reduced-motion: reduce) {
  .motion-safe\:opacity-100 { opacity: 0 !important; }
  svg animate, svg animateMotion { display: none !important; }
}

/* Soft pulse animation for nodes */
@keyframes soft-pulse {
  0%, 100% { filter: drop-shadow(0 0 0 rgba(151,179,77,0)); }
  50%      { filter: drop-shadow(0 0 12px rgba(151,179,77,0.25)); }
}
.node-pulse { animation: soft-pulse 2.8s ease-in-out infinite; }

/* Marquee animation */
@keyframes marquee {
  0% { transform: translateX(0%); }
  100% { transform: translateX(-100%); }
}
.animate-marquee {
  animation: marquee 30s linear infinite;
}

/* Pulse animation for footer glow */
@keyframes pulse {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.8; }
}

/* Soft vignette utility */
.soft-vignette::after {
  content: "";
  position: absolute;
  inset: -20%;
  pointer-events: none;
  background: radial-gradient(120% 60% at 50% 20%,
    rgba(0,0,0,0) 0%,
    rgba(0,0,0,0.18) 80%);
}

@layer base {
  * {
    border-color: hsl(var(--border));
  }
  body {
    @apply bg-background text-foreground;
  }
  
  /* Custom text selection colors */
  ::selection {
    background-color: #97B34D; /* OPEF bright green */
    color: #000000; /* Black text */
  }
  
  ::-moz-selection {
    background-color: #97B34D; /* OPEF bright green */
    color: #000000; /* Black text */
  }
}
